import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink"
export default Page({ title: "SNARK Constructions" });

# Какую конструкцию SNARK я должен использовать?

Существует множество различных конструкций SNARK, которые имеют компромиссы в производительности и безопасности.
На этой странице дается обзор некоторых важных критериев, которые необходимо иметь в виду при выборе схемы.

## Несовместимость

Для многих приложений важно, чтобы SNARK был _несовместим_.
Интуитивно понятно, что SNARK _несовместим_ , если просмотр доказательств не поможет вам получить доказательства по новым инструкциям.

Немного подробнее: конструкция SNARK _несовместима_, если
невозможно изменить доказательство **p**, которое подтверждает и сверяет ввод **x** в доказательстве **p'**, которое подтверждает и сверяет 
ввод **x'**, за исключением случаев, когда вы могли сделать это без видимости **(p, x)**.

Технической фразой для такого рода несовместимости является _извлекаемая симуляция_.

### Когда мне нужна несовместимость?

В приложениях, в которых валидатор (или его часть) должны оставаться в тайне, вам, вероятно, понадобится
несовместимость. Существуют методы достижения той же безопасности при одновременном использовании
гибкого SNARK, но их лучше оставить экспертам.

На практике существует лишь небольшой штраф за использование несовместимого SNARK, так что нет ничего плохого в его использовании, 
если только кто-то уверен, что такой SNARK не нужен. 

## Тип настройки

Это одно из самых больших практических соображений, которые следует учитывать при выборе конструкции SNARK.
Некоторые SNARK требуют "настройки", которая включает в себя либо доверенную сторону, либо группу сторон ( одной из которых вы можете
доверять), выполняющих вычисления для генерации ключей для SNARK. Это широко обсуждаемая "церемония", как уже было ранее сделано для ZCash.

Существуют два вида настроек:

1. **Универсальная.** Универсальная настройка должна выполняться только один раз, а результирующие ключи могут быть повторно использованы для всех будущих программ SNARK.
2. **Для каждой программы.** Настройки каждой программы должны выполняться один раз для каждой программы SNARK.

Универсальные настройки намного удобнее, но конструкции SNARK с настройками для каждой программы имеют лучшую производительность.

Есть также SNARK, которые вообще не имеют настроек. В целом, эти SNARK имеют гораздо большие размеры: 50-200 кБ, по сравнению
со 100 байтами для SNARK с настройкой.

## Производительность

При выборе конструкции SNARK важно помнить о следующих характеристиках эффективности:

- **Время проверки.** Сколько времени требуется для получения доказательств?
- **Размер доказательства.** Насколько велико каждое доказательство?
- **Время верификации.** Сколько времени занимает проверка доказательства?

Существуют и другие критерии эффективности, которые представляют интерес, если предполагается использование рекурсивных SNARK, но
это выходит за рамки данного документа.

## Обзор landscape

Давайте оценим некоторые из существующих конструкций SNARK по нашим критериям.
Описания производительности для некоторых параметров будут оставаться субъективными до тех пор, пока кто-то не сможет запустить корректный, справедливый бенчмарк. В нижеприведенной таблице много пробелов, так что, пожалуйста.
сделайте пиар, если вы тронуты :)


<picture>
  <source media="(min-width:48rem)" srcset="/static/img/docsImages/Documents_SNARKS_p3-01_Tablet 1.png"/>
  <source media="(min-width:90rem)" srcset="/static/img/SnarksOverview.png"/>
  <img src="/static/img/docsImages/Documents_SNARKS_p3-01_Mobile 1.png" alt="Snark Workers"></img>
</picture>


## Примечания

В этом документе под определением "без установки" я подразумеваю прозрачную установку, которая на практике равнозначна выбору хэш-функции
типа SHA256, blake2s и т.д.
