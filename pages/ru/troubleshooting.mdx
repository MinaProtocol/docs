import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Troubleshooting" });

# Устранение Nроблем

Здесь собраны распространенные проблемы, с которыми вы можете столкнуться при установке daemon Mina. Если вы не можете найти свою проблему здесь, обратитесь за помощью в [Discord](https://bit.ly/MinaDiscord) или в [Github](https://github.com/MinaProtocol/mina/issues/new).

- [Общее](#general)
- [Синхронизация ноды](#syncing-a-node)
- [Работа в сети](#networking)
- [Аккаунты и транзакции](#accounts-and-transactions)
- [Блок-продюсер](#block-producer)
- [Снарк-воркер](#snark-worker)
- [Логгинг](#logging)

## Общее

### Сбой моей ноды происходит каждые несколько минут

Если краш ноды происходит быстро и часто, скорее всего, возникла проблема с конфигурацией, связанная с некорректными разрешениями для закрытого ключа, невозможностью обнаружить пиры из-за неправильной передачи файла peers.txt, неправильным введением пароля или определенных символов в пароле. Последние несколько строк логов должны содержать дополнительную информацию о проблеме.

### Я закрыл свой SSH-терминал, и произошел сбой ноды

Если вы запустили daemon mina на переднем плане, то как только вы отключитесь от него, он также отключится (с сигналом SIGINT). Чтобы запустить процесс в фоновом режиме для того, чтобы вы смогли отключиться, используйте любую опцию:

- Запустите daemon с `-background`.
- Запуститесь, используя службу systemd (смотрите <DocLink copy="документацию" url="/node-operators/connecting#ubuntu-1804--debian-9-1" />).
- Запуститесь с Docker (смотрите <DocLink copy="документацию" url="/node-operators/connecting#docker" />).
- Запустите daemon в терминальном мультиплексоре, таком как screen или [tmux](https://icohigh.gitbook.io/mina-node-testnet/english/setting-up-tmux), от которых вы сможете отключиться, чтобы процесс продолжился.

Рекомендуется запуск с использованием службы/через Docker, так как они имеют преимущество в виде автоматического перезапуска в случае сбоя вашей ноды.

### Какие разрешения требуются для директории ключей?

Директория `keys` должна иметь 700 разрешений, а файл закрытого ключа – 600. С помощью этих команд, например, обновляются разрешения, когда директория ключей содержится в вашем домашнем каталоге, а ваш файл закрытого ключа называется `my-wallet`:

```
chmod 700 ~/keys
chmod 600 ~/keys/my-wallet
```

### Могу ли я запуститься на устройстве на базе Raspberry Pi / ARM?

Нет. Поддерживается только x86-64, но не ARM.

### В моем пароле есть специальные символы, и выдает ошибку

Вам необходимо заключить пароль в кавычки, например, `"MY_PASSWORD"`, и/или замените специальные символы в пароле, такие как `$`, символом `\`.

### Выдает ошибку разрешений при запуске команды docker

Добавьте текущего пользователя в группу docker, как указано в [этой статье](https://docs.docker.com/engine/install/linux-postinstall/). Вы можете добавить к команде префикс `sudo`, но этого не рекомендуется делать.

### Я вижу monitor.ml.Error "Timed out getting connection from process" на macOS

Если вы запускаете Mina на macOS и видите следующую ошибку тайм-аута `monitor.ml.Error "Timed out getting connection from process"`, вам необходимо добавить свой hostname в `/etc/hosts`, выполнив следующую команду :

- $ `hostname`, чтобы получить hostname
- Откройте файл `/etc/hosts` и добавьте маппинг:

```
##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1       localhost
127.0.0.1       <ADD YOUR HOSTNAME HERE>
This is necessary because sometimes macOS doesn't resolve your hostname to your local IP address.
```

### Какое оборудование мне нужно?

Смотрите требования для работы в текущей сети <DocLink copy="здесь" url="/node-operators/getting-started" />. При использовании некоторых VPS-провайдеров более низкого уровня может возникнуть проблема при создании блоков во время слота. Если вы продолжаете сталкиваться с проблемой пропущенных блоков, вы можете попробовать использовать более мощное оборудование.

### Я бы хотел, чтобы служба mina запускалась во время загрузки

Если вы используете `systemd` для управления daemon Mina, он не будет автоматически перезагружаться при перезагрузке машины. Вы можете запустить службу вручную с помощью `systemctl --user enable mina` или запустить `systemctl --user enable mina`, чтобы служба автоматически запускалась при загрузке.

### Что мне необходимо добавить для MINA_PRIVKEY_PASS?

Когда вы сгенерировали keypair, вы создали пароль. Используйте пароль, который вы создали, для значения `MINA_PRIVKEY_PASS`.

### Я получаю сообщение c ошибкой об отсутствии ~/.mina-config/daemon.json

Этот файл необязательно использовать при передаче [параметров конфигурации](https://github.com/MinaProtocol/mina/blob/develop/docs/daemon.md) daemon (вместо передачи с помощью командной строки). Daemon ищет его по умолчанию, что приводит к ошибке, если вы его не включите. Просто проигнорируйте эту ошибку (если вы не пытаетесь его включить), поскольку она не фатальна, и daemon запустится в нормальном режиме.

### Я вижу сообщения о том, что прувер/верификатор периодически убиваются

Это нормальный процесс, и в настоящее время они периодически завершаются и перезапускаются. Игнорируйте эти сообщения, если они не ведут к фатальной ошибке/сбою.

### Произошел сбой, появилось сообщение: "Fatal error: out of memory"

Это распространенная проблема - читайте об этой [проблеме](https://github.com/MinaProtocol/mina/issues/6851) на GitHub, добавьте всю необходимую информацию в логи и перезапустите ноду.

### Могу ли я создать свой пароль с помощью переменной среды?

Да. Задайте в качестве пароля переменную среды `MINA_PRIVKEY_PASS`.

### Пытаюсь совершить установку на Ubuntu 20.04 / Debian 10, и появляется ошибка зависимости

Смотрите это [руководство в Discord](https://discordapp.com/channels/484437221055922177/583400552487059546/822269019687354418), и вы сможете вручную решить проблему зависимостей. В качестве аналога используйте поддерживаемую ОС (Ubuntu 18.04/Debian 9) или Docker.

## Синхронизация ноды

### Я застрял на высоте блока 1 и максимальной наблюдаемой длине блока 1

На выходе `mina client status` должно быть следующее:

```
Block height:                    1
Max observed block length:       1
```

Эта проблема была устранена в релизе `9652f8ee092ea77e29f5ab49fa0a295e36743e8b`, пожалуйста, убедитесь, что вы обновились. Во время инициализации daemon высота 1 - это нормально. Переход ноды к фазе catchup может занять какое-то время (от 20 минут до часа).

### Моя "максимальная наблюдаемая длина блока" равна 1, верна ли высота моего блока?

Эта проблема была устранена в релизе `9652f8ee092ea77e29f5ab49fa0a295e36743e8b`, пожалуйста, убедитесь, что вы обновились. После обновления убедитесь, что daemon запустился (занимает от 20 минут до часа), и ошибка исчезнет.

### Моя нода застряла в фазе catchup / высота блока не обновляется

Когда нода синхронизирована, **высота блока** должна быть равна **максимальной наблюдаемой длине блока**, как показано в выходных данных `mina client status`, и должна соответствовать текущей высоте сети, как показано на снимке ниже:

![Синхронизация ноды](https://i.imgur.com/iWJTYTr.png)

Во время запуска ноды, когда она еще находится в состоянии начальной загрузки/в фазе catchup, высота блока будет отображать 1 или число, которое составляет несколько сотен блоков от текущей лучшей длины блока (но намного больше 1). Во время catchup высота блока не будет постепенно обновляться, кроме случаев создания новых блоков, и переключится на правильную высоту после того, как фаза catchup завершится. Так что будьте терпеливы; этот процесс может занять несколько часов и зависит от используемого вами оборудования.

### Я синхронизировался на высоте 1 / не на текущей высоте сети

Важно то, что ваша текущая длина блокчейна, как видно из `mina client status`, равна текущей высоте сети. Если ваша нода сообщает, что она синхронизировалась с неправильной высотой, она должна в конечном счете перейти в фазу catchup, чтобы занять правильную высоту. Вы можете время от времени переключаться между фазами catchup и synced, если в сети обнаруживаются небольшие форки, которые нода пытается "догнать".

### Почему мой блокчейн подскакивает до 1000+, а затем застревает?

Для создания блоков нам нужны только последние `k` (290) блоки блокчейна. Таким образом, после того, как бустрэп завершился, корень границы перехода (по сути, ваше локальное хранилище блоков) должен равняться текущей максимальной высоте минус `k` (290). Часть процесса синхронизации, которая требует значительного времени, а именно загрузка отсутствующих `k` блоков, выполняется **catchup**. Во время catchup вы не увидите увеличение высоты вашего блока (кроме новых блоков, созданных в сети), пока он не перейдет на текущую высоту и не будет синхронизирован. На это требуется время, так что не выключайте оборудование!

### Мой статус синхронизации офлайн

Этот статус указывает на то, что вы не получали сообщений от пиров в течение последних ~24 минут. Убедитесь, что вы используете последнюю версию файла peers.txt. Вы можете добавить новые пиры к работающей ноде с помощью этой команды:

```
cat peers.txt | xargs -I % mina advanced add-peers %
```

## Работа в сети

### Мой хостинг-провайдер присылает предупреждение: "Abuse message: Netscan detected"

Существует определенное поведение нашего сетевого p2p-модуля, которое вызывает появление этого предупреждения на некоторых хостинг-провайдерах (в частности, мы слышали, что это происходит с Hetzner). Чтобы смягчить его поведение, настройте файервол, разрешив трафик с ssh, http, https и запретив исходящий трафик на все частные IP-адреса.

Приведем пример использования файервола с использованием утилиты [ufw](https://help.ubuntu.com/community/UFW#UFW_-_Uncomplicated_Firewall). Благодарим Ducca за эти правила и проверку, подтверждающую, что благодаря им проблемы на Hetzner устраняются.

Разрешите порты SSH, HTTP, HTTPS:

```
ufw allow 22
ufw allow 80
ufw allow 443
ufw enable
```

Запретите исходящее частное соединение:

```
ufw deny out from any to 10.0.0.0/8
ufw deny out from any to 172.16.0.0/12
ufw deny out from any to 192.168.0.0/16
ufw deny out from any to 100.64.0.0/10
ufw deny out from any to 198.18.0.0/15
ufw deny out from any to 169.254.0.0/16
```

Смотрите [#7053](https://github.com/MinaProtocol/mina/issues/7053), чтобы узнать больше информации

### Какие порты необходимо открыть?

Единственный порт, который нужно открыть для daemon, чтобы поддерживать связь с пирами, - это TCP-порт `8302`.

Клиентский порт `8301` **никогда** не должен находиться в Интернет-доступе. Могут быть устаревшие ссылки на другие порты, которые когда-либо использовались раньше, но больше не требуются.

### Нода не работает, появилось сообщение "Failed to find any peers, crashing as this is not a seed node"

Во-первых, убедитесь, что вы загрузили последний файл с пирами из полученного электронного письма - URL-адрес не меняется, но список пиров обновляется очень часто.

Далее, в зависимости от метода, который вы используете для запуска ноды, убедитесь, что вы передаете правильный путь к этому файлу. Например, при использовании `systemd` в вашем домашнем каталоге должен быть файл `peers.txt`.

Эта ошибка должна была быть устранена с помощью недавнего обновления, поэтому убедитесь, что вы используете последний релиз, и у вас есть последний файл с пирами.

### Я получаю сообщение об ошибке о том, что мой IP-адрес не может быть определен в Интернете

Если вы видите флаг `couldn't determine our IP from the internet, use --external-ip`, значит daemon не смог определить свой собственный IP-адрес с помощью [этих провайдеров](https://github.com/MinaProtocol/mina/blob/056d0203722ddfec1c7ad216846434648cd7af5e/src/app/cli/src/find_ip.ml#L7-L11). Ваш фаервол может блокировать запросы HTTP/S, или у вас неправильно настроено сетевое соединение.

Чтобы обойти это, передайте флаг `-external-ip <your-ip-address>` при запуске daemon Mina. Чтобы получить свой внешний IP-адрес, запустите `curl ifconfig.me`.

### Нужно ли мне вручную настраивать переадресацию портов?

Нода Mina делает выполняет все необходимые настройки, чтобы иметь возможность подключаться к внешнему миру без необходимости выполнять дополнительную работу. Однако это зависит от вашего маршрутизатора и настроек сети и может не сработать. В этом случае вам, возможно, придется вручную перенаправить внешний порт.

Распространенной причиной возникающей проблемы является то, что маршрутизаторы не поддерживают UPnP - протокол, который позволяет ноде автоматически настраивать переадресацию портов. Если у вас возникла проблема такого типа, найдите модель своего маршрутизатора, выполните поиск по запросу `<model> port forwarding` и следуйте инструкциям, как перенаправить порты с маршрутизатора на устройство, на котором запущена нода Mina. По умолчанию вам нужно открыть TCP-порт `8302`.

Примечание: При запуске Mina в облаке вам следует вместо этого настроить группы безопасности для своего облачного провайдера.

### Нужно ли разрешать "Accept incoming connections"?

Выберите "Разрешить", если вы видите одно или несколько предупреждений, похожих на следующее:

```
Do you want the application "mina" to accept incoming network connections?
```

## Акаунты и транзакции

### Какую комиссию я должен использовать для отправки транзакции / моя транзакция зависла в ожидании?

Транзакции включаются в блоки в приоритетном порядке в зависимости от своих комиссий. Если будет осуществляться множество транзакций, то в первую очередь будут включены транзакции с самой высокой комиссией. Таким образом, увеличение комиссии - лучший способ убедиться в том, что ваша транзакция будет включена. Чтобы просмотреть пул транзакций на работающей ноде, вы можете использовать следующую команду (вам нужно будет установить `jq,`, используемый для форматирования вывода следующей команды, например, `sudo apt install jq`):

```
mina advanced pooled-user-commands | jq . | grep fee | sort | uniq -c | sort -n
      1     "fee": "0.031",
      5     "fee": "0.1",
```

Если в пуле много транзакций, возможно, вам придется увеличить комиссию. Подробное описание комиссий за транзакции смотрите [здесь](https://minaexplorer.com/mempool).

Если ваша транзакция застряла из-за низкой комиссии, вам придется подождать, пока она будет включена в блок или будет исключена из пула транзакций, поскольку в настоящее время нет возможности отменить транзакцию из-за этой [распространенной проблемы](https://github.com/MinaProtocol/mina/issues/6605).

### Сколько транзакций может быть включено в блок?

В текущей сети 128, включая транзакцию с монетными базами, а также любые переводы комиссий для оплаты работы снарк-воркеров.

### Могу ли я отменить транзакцию?

В данный момент нет из-за [этого бага](https://github.com/MinaProtocol/mina/issues/6605).

### Я отправил транзакцию, но она не попала в блок

Найдите тут [свой ответ](#what-fee-should-i-use-to-send-a-transaction--my-transaction-is-stuck-as-pending). Скорее всего, транзакция попала в ожидающие, а затем была исключена из пула транзакций. Попробуйте отправить еще раз.

### Почему монетная база равна 0 / в блок не включены транзакции?

При определенных обстоятельствах нельзя приобрести работу снарка, или ее стоимость слишком высокая. В этом случае включение транзакции с базой монет может быть невозможным, и поэтому монеты за блок не начисляются.

Если транзакции не были включены, комиссии за транзакции, вероятно всего, не покрыли стоимость работы снарка, необходимую для компенсации, включая транзакции.

### Имеет ли значение порядок отправки транзакций?

Да, обработка транзакций просиходит согласно единоразовому номеру (nonce), связанному с транзакцией. Таким образом, если вы отправляете транзакцию, и она зависла, например, если вы указали низкую комиссию, все следующие транзакции также будут заблокированы, независимо от комиссий, которые вы выставите для следующих транзакций. К сожалению, в настоящее время нет возможности отменить транзакцию из-за распространенной проблемы, поэтому вам нужно дождаться включения транзакции или исключения ее из пула транзакций.

### Почему мой аккаунт "заблокирован"?

Если вывод `mina accounts list` показывает, что ваш аккаунт заблокирован, это означает, что вам необходимо разблокировать его с помощью пароля для своего закрытого ключа, необходимого для отправки транзакций. Чтобы разблокировать аккаунт, просто используйте команду `mina accounts unlock --public-key`.

Блок-продюсеру **не** требуется разблокировать свой аккаунт для создания блоков.

### Я запросил средства из крана, а они так и не пришли

Проверьте статус крана [здесь](https://status.minaprotocol.com/), чтобы узнать о возможных проблемах с краном.

Вы также можете проверить этот [эксплорер](https://minaexplorer.com/wallet/B62qpVjcU3bxjWdVGiXd7tUGNag3cgjSNWmYuZTpU5Eg8MHPqnHfVeL) и посмотреть все ожидающие транзакции от крана, и есть ли в списке ваши недавние транзакции.

Если вы только что запустили свою ноду и не синхронизировались, любой баланс, отправленный из крана, не будет отображаться до тех пор, пока нода не будет синхронизирована.

### Что такое временно заблокированные аккаунты / почему некоторые аккаунты имеют ограничение по времени, а другие - нет?

Смотрите документацию <DocLink copy="тут" url="/architecture/timelock" />.

### Могу ли я отправить платеж, если еще не синхронизировался?

Да, но только если у вас уже есть средства в реестре. Если вы запросили средства, например, у крана или другого участника сообщества, вам нужно будет дождаться синхронизации, чтобы получить баланс, который можно будет использовать для отправки.

### Error: Specified sender is not in the ledger or sent a transaction in transaction pool when sending a transaction

Смотрите [ответ тут](#can-I-send-a-payment-before-I-am-synced), вам необходимо ждать синхронизации, если у вас нет существующего баланса в реестре.

### Я запустил блок-продюсера, но ничего не вижу в списке аккаунтов mina

Если вы запустили daemon, передав флаг `block-producer-key`, вам все равно нужно импортировать учетную запись в daemon, чтобы отправить транзакцию. Для этого используйте команду `mina accounts import --privkey-path`, передав расположение файла закрытого ключа.

## Блок-продюсер

### Как запустить блок-продюсера?

Способы запуска ноды доступны <DocLink copy="в документации" url="/node-operators/connecting" />. С их помощью вы сможете запустить блок-продюсера по умолчанию.

### Как я узнаю, запущен ли мой блок-продюсер?

Чтобы проверить статус вашего блок-продюсера, запустите `mina client status` и найдите строки **Block producers running**. Вы должны увидеть значение 1, а также ваш открытый ключ.

![Запуск блок-продюсера](https://i.imgur.com/IsXZcXN.png)

Строка **Next block will be produced in** позволяет узнать, когда вы в следующий раз выиграете слот для создания блока. Если вы не выиграли блоки в эпоху, будет отображаться сообщение "None this epoch..." – с началом новой эпохи сообщение обновляется.

### Как мне увеличить свои шансы на выигрыш блока?

Вероятность выигрыша блока определяется проверяемой случайной функцией (VRF), при этом шанс выигрыша блока пропорционален вашему стеку. VRF всегда будет возвращать один и тот же результат, независимо от того, сколько раз она запускается, поэтому не существует способа повысить свои шансы на выигрыш блока. Все зависит от суммы вашего стека и удачи.

Стек, относящийся к вашему открытому ключу, определяется в начале эпохи заранее. Он рассматривается с задержкой, поэтому получение средств, вознаграждений за блоки, делегирование других средств и получений вознаграждений снарк-воркеров **не** не увеличивает ваши шансы на выигрыш блока в эту эпоху, поскольку эти средства не будут учитываться при размещении в реестре стейкинга на протяжении как минимум другой полной эпохи (~2 недели).

### Почему мой блок не принят (сиротский) / почему я не получил вознаграждение за блок?

В каждом слоте может быть более одного блок-продюсера из-за способа выбора блок-продюсеров. Таким образом, если два (или более) блока создаются для одного и того же слота, произойдет небольшой форк, и будет выбран только один блок - в этом случае победитель определится случайным образом на основе выходных данных VRF для каждого блок-продюсера. Если вы постоянно видите сиротские блоки, то, возможно, вы медленно производите блоки, и поэтому другие блок-продюсеры могут не видеть ваш блок до тех пор, пока не создадут самую длинную текущую цепь.

Также блок можно создать в фазе catchup, но этот блок также станет сиротским, поскольку он строится на неправильной высоте.

### Я не создал блок / пропустил слот

Существует несколько причин, когда вы можете пропустить слот / не создать блок, например, во время перезапуска ноды и во время бустреппинга в момент создания слота.

Также вы должны создать блок за отведенное время (3 минуты). Если вы используете менее мощное оборудование, или daemon конкурирует за ресурсы, он может не создать блок вовремя. В этом случае вы должны найти в своих логах:

`Internally generated block $state_hash cannot be rebroadcast because it's not a valid time to do so ($timing)`

Не рекомендуется запускать snark worker на одной машине в то же самое время, когда вы создаете блок, так как snark worker требует больших ресурсов, и это может привести к тому, что блок не будет произведен вовремя. Вы можете отключить snark worker во время производства блока, к примеру, используя [скрипт остановки snark](https://github.com/c29r3/mina-snark-stopper).

### Почему частота блоков такая низкая / как часто должен создаваться блок?

Слот в текущей сети длится каждые 3 минуты, хотя не во всех слотах может производиться блок, поэтому в среднем блок создается каждые 4 минуты. Однако не все стеки находятся онлайн и активны, чтобы создавать блоки, поэтому не все слоты будут иметь блок, и иногда между блоками могут быть большие задержки. По мере размещения стеков онлайн и осуществления стейкинга, ситуация меняется к лучшему.

### Почему O (1) Labs выигрывает большинство блоков? Почему O(1) Labs выигрывает большинство блоков?

Чтобы поддерживать стабильную сеть, O(1) Labs получает 30% от стека, поэтому имеет гораздо большую вероятность выиграть слот и произвести блок. Пользователи, которым был предоставлен баланс на сумму 66000 mina, имеют примерно 0,1% шанса выиграть какой-либо конкретный слот, поэтому возможность выиграть блок существует каждые несколько дней. При этом на то, как часто вы будете выигрывать блок, во многом зависит от удачи.

### Как мне узнать, выиграл ли я блок, или прошла ли транзакция?

Самый простой способ - проверить [блок-эксплорер](https://minaexplorer.com/). Вы также можете получить эту информацию для последних блоков через <DocLink copy="GraphQL API" url="/node-developers/graphql-api" />.

### Почему у меня появляется сообщение "No blocks won this this epoch"?

Смотрите [ответ тут](#how-can-I-increase-my-chance-of-winning-a-block).

## Snark worker

### Мою снарк-работу не покупают / какую плату я должен устанавливать для снарк-воркера?

Если вы запускаете snark worker и видите, что работу не включаеют в блоки, то, скорее всего, другие производят более дешевую снарк-работу. Несколько снарк-воркеров соревнуются за включение одной и той же снарк-работы, причем блок-продюсеры покупают только те работы, каждая из которых имеет самую низкую плату.

Иногда в блоки включают высокие комиссии, зависящие от того, как снарк-воркеры выбирают, какую работу выполнить, а какую работу должен приобрести блок-продюсер.

По умолчанию снарк-воркера выбирается случайным образом. Вы можете изменить это, добавив флаг `-work-selection seq` к команде `mina daemon`, которая будет работать с работами в том порядке, который требуется для их включения из scan state, и, вероятно, приведет к тому, что ваши снарки будут включены без потенциально длительной задержка.

Чтобы выбрать комиссию, вы можете посмотреть исторические блоки и узнать цену на приобретение или посмотреть таблицу [здесь](https://minaexplorer.com/snark-challenge).

### Как отключить snark worker?

Запустите `mina client set-snark-worker`, чтобы отключить снарк-воркер. Чтобы его снова подключить, передайте свой открытый ключ `mina client set-snark-worker --address <YOUR_PUBLIC_KEY>`.

### Могу ли я запустить снарк-воркера и блок-продюсера на одной машине?

Да, но вы должны остановить работу снарк-воркера во время производства блоков, чтобы не конкурировать за ресурсы и не пропустить создание блока. Снарк-воркеры также в целом потребляют больше ресурсов. Смотрите [сценарий остановки snark](https://github.com/c29r3/mina-snark-stopper), чтобы оказать помощь в автоматизации.

## Логгинг

### Я вижу в логах странные сообщения/ошибки.

Логи могут быть броскими и часто содержат "пугающие" сообщения, такие как сбой подключения и другое. Как правило, если сообщение не является фатальным, и нода не завершает аварийную работу, то, вероятно, вам не о чем беспокоиться. Все сообщения ниже считаются "нормальными":

```
"RPC #841 failed: \"internal RPC error error: unknown stream_idx\""
"Peer $peer didn't have enough information to answer ledger_hash query. See error for more details: $error"
"Timed out waiting for the parent of $cached_transition after 0 ms, signalling a catchup job"
"Failed to reset stream (this means it was probably closed successfully): $error
        error: {
  "string":
    "RPC #365 failed: \"internal RPC error error: unknown stream_idx\""
}
```

### Как мне получить логи при запуске с помощью службы?

`journalctl --user -u mina -n 1000 -f`

### Как мне получить логи при запуске Docker?

`docker logs --follow mina`

### Как мне получить логи при запуске daemon вручную?

`tail -f ~/.mina-config/mina.log`

### Сколько хранится логов / где находятся логи?

Логи Mina находятся в директории `~/.mina-config`. Эта директория содержит следующее:

- `mina.log` - Этот файл содержит последние логи работы daemon. Каждый лог имеет ограниченный размер 10 МБ и вращается через 50 логов. Вращающиеся логи называются `mina.log.x` от `mina.log.0` до `mina.log.50`.
- `mina-best-tip.log` - используется для записи логов best tip, чтобы упростить сбор необходимых логов с нод для определения состояния хардфорка. Размер каждого файла имеет ограничение до 5 MiB и вращается не более чем через 5 файлов от ` mina-best-tip.log.0` до `mina-best-tip.log.5`.
- `mina-prover.log` - регистрирует использование памяти и размер партии прувера; его размер имеет ограничение в 128 MiB, и он вращается с помощью одного лог-файла.
- `mina-verifier.log` - регистрирует использование памяти и размер партии верификатора, ограничен до 128 MiB и вращается через один лог-файл.
- `mina.version` - Этот файл содержит Git SHA работающего daemon.
