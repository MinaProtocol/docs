import Page from "@reason/pages/Docs";
import DocLink from "@reason/components/DocLink";
export default Page({ title: "Generate a Keypair" });

# Генерация Keypair

Чтобы создать keypair для Mainnet и полноценно участвовать в тестовой сети Mina, вам необходимо выполнить первый шаг – создать keypair, состоящий из публичного и приватного ключей. В настоящее время поддерживаются два инструмента для генерации keypair: mina-generate-keypair и ledger-app-mina. Также существует инструмент для проверки правильности создания вашего приватного ключа.

Обратите внимание, что вы можете создать более одного keypair. Например, если вы хотите максимально безопасно осуществить запуск блок-продюсера, вам необходимо использовать <DocLink copy="настройку производства блоков для горячего / холодного кошельков" url="/advanced/hot-cold-block-production" />.

## Методы

### mina-generate-keypair

Мы создали простую утилиту командной строки под названием `mina-generate-keypair`. Это самый простой способ генерации, инструкции можно найти ниже.

### Аппаратный кошелек Ledger

Вы можете использовать аппаратный кошелек [Ledger Nano S](https://www.ledger.com/) для безопасного хранения приватных ключей Mina. Мы практически завершаем процесс независимого аудита безопасности, который не имеет уязвимостей в настоящее время. Ознакомьтесь с нашей <DocLink copy="документацией по ledger-app-mina" url="/advanced/ledger-app-mina" />, чтобы начать работу с этим инструментом.

### Клиентский SDK

Мы также создали клиентский SDK, который может генерировать keypair и подписывать транзакции. Обратите внимание, что мы рекомендуем использовать этот метод только опытным специалистам по безопасности. Пожалуйста, используйте наш `инструмент mina-generate-keypair вместо создания key pairs.
Смотрите нашу <DocLink copy="документацию по клиентскому SDK" url="/using-mina/keypair#client-sdk" /> для получения более детальной информации.

<br />

<Alert kind="warning">

Никогда не делитесь своим приватным ключом и убедитесь, что он хранится в надежном месте. Если вы потеряете приватный ключ, или злоумышленник получит доступ к вашему приватному ключу, вы потеряете доступ к средствам в своем аккаунте. Вместо этого предоставляйте только публичные ключи. Mina никогда не запрашивает доступ к вашим приватным ключам.

</Alert>

<br />

## Использование mina-generate-keypair

Чтобы упростить процесс создания keypair, мы создали простую утилиту командной строки под названием `mina-generate-keypair`. Инструмент `mina-generate-keypair` имеет простую в использовании функциональность, необходимую для создания вашего собственного keypair, чтобы участвовать в сети Mina. Читайте ниже об установке и использовании в вашей локальной системе.

## Установка

Инструмент mina-generate-keypair поддерживается несколькими различными операционными системами. Следуйте приведенным ниже инструкциям, чтобы установить инструмент в вашу систему.

### macOS

Если вы используете macOS, установите Docker и следуйте приведенным ниже инструкциям для docker.

### Ubuntu 18.04 / Debian 9

После <DocLink copy="добавления репозитория Mina" url="/getting-started#ubuntu-1804--debian-9" /> вы можете легко запустить следующую команду.

```
sudo apt-get install mina-generate-keypair=1.1.8-b10c0e3
```

Убедитесь, что инструмент генерации ключей установлен правильно, запустив `mina-generate-keypair -version`. На выходе должно появиться сообщение `Commit [DIRTY]a42bdeef6b0c15ee34616e4df76c882b0c5c7c2a on branch HEAD`.

### Windows / Другие платформы

Установите Docker и следуйте инструкциям для Docker в шаге 3b. ниже.

## Использование

Создать keypair можно в несколько простых шагов.

1. Сначала убедитесь, что в вашей системе есть каталог, в котором вы можете хранить файлы ключей. Мы рекомендуем использовать каталог `~/keys`.

```
mkdir ~/keys
```

2. Затем убедитесь, что права доступа к этому каталогу установлены правильно, что предотвратит доступ нежелательных процессов к этим файлам.

```
chmod 700 ~/keys
```

3. Сгенерируйте ключ, используя инструкции в Шаге 3a для Debian / Ubuntu или в Шаге 3b для Docker.

<br />

<Alert kind="warning">

Обязательно установите новый надежный пароль для следующих команд. Mina никогда не запрашивает ваш пароль, и вы не должны его никому сообщать.

</Alert>

<br />

3a. Для Ubuntu/Debian: Сгенерируйте свои ключи с помощью команды `mina-generate-keypair`. Когда появится запрос на ввод пароля, введите пароль, который вы будете использовать для защиты этого ключа. Если он уже установлен, инструмент будет использовать пароль из переменной среды CODA_PRIVKEY_PASS и не будет его запрашивать. <em>НЕ забывайте этот пароль.</em>

```
mina-generate-keypair -privkey-path ~/keys/my-wallet
```

3b. Для Docker на Windows/MacOS/Linux: Сгенерируйте свои ключи, используя образ докера `minaprotocol/generate-keypair`. При появлении запроса введите пароль, который вы будете использовать для защиты этого ключа. <em>НЕ забывайте этот пароль.</em>

```
cd ~
docker run  --interactive --tty --rm --volume $(pwd)/keys:/keys minaprotocol/generate-keypair:1.0.2-06f3c5c -privkey-path /keys/my-wallet
```

В вашей системе будет создано два файла: `~/keys/my-wallet`, который содержит зашифрованный приватный ключ, и `~/keys/my-wallet.pub`, который содержит публичный ключ в виде обычного текста. Пожалуйста, сохраните файл приватного ключа и пароль, которые вы использовали, в надежном месте, например в диспетчере паролей.

<br />

<Alert kind="warning">

Никогда не делитесь своим приватным ключом и убедитесь, что он хранится в надежном месте. Если вы потеряете приватный ключ, или злоумышленник получит доступ к вашему приватному ключу, вы потеряете доступ к средствам в своем аккаунте. Вместо этого предоставляйте только публичные ключи. Mina никогда не запрашивает доступ к вашим приватным ключам.

</Alert>

<br />

4. Наконец, убедитесь, что права доступа к файлу приватного ключа установлены правильно, это предотвратит доступ к нему нежелательных процессов.

```
chmod 600 ~/keys/my-wallet
```

## Подтвердите свой приватный ключ

После того, как вы создали свой ключ, необходимо убедиться, что он работает. Для этого можно просто подписать транзакцию. Используйте инструмент `mina-validate-keypair` для проверки.

Выполните следующую команду в Linux:

```
mina-validate-keypair -privkey-path <path-to-the-private-key-file>
```

Если вы используете Docker, выполните следующую команду:

```
docker run --interactive --tty --rm --entrypoint=mina-validate-keypair --volume $(pwd)/keys:/keys minaprotocol/generate-keypair:1.0.2-06f3c5c -privkey-path /keys/my-wallet
```

## Следующие шаги

После того, как мы создали собственный keypair, можно, наконец, <DocLink copy="подключиться к сети" url="/using-mina/connecting" /> или поделиться своим публичным ключом.
